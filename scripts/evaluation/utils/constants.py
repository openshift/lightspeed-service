"""Constants."""

# Same Provider/Model combination must be used while launching OLS.
INSCOPE_MODELS = {
    "watsonx+ibm/granite-3-2b-instruct": ("watsonx", "ibm/granite-3-2b-instruct"),
    "watsonx+ibm/granite-3-8b-instruct": ("watsonx", "ibm/granite-3-8b-instruct"),
    "watsonx+ibm/granite-3-3-8b-instruct": ("watsonx", "ibm/granite-3-3-8b-instruct"),
    "watsonx+ibm/granite-4-h-small": ("watsonx", "ibm/granite-4-h-small"),
    "openai+gpt-4.1-mini": ("openai", "gpt-4.1-mini"),
    "openai+gpt-4o-mini": ("openai", "gpt-4o-mini"),
    "openai+gpt-4o": ("openai", "gpt-4o"),
    "azure_openai+gpt-4o-mini": ("azure_openai", "gpt-4o-mini"),
    "azure_openai+gpt-4o": ("azure_openai", "gpt-4o"),
    "ollama+llama3.1:latest": ("ollama", "llama3.1:latest"),
    "ollama+mistral": ("ollama", "mistral"),
}

NON_LLM_EVALS = {
    "cos_score": "Cosine Similarity Score (mpnet)",  # with mpnet sentence embedding model
    "euc_score": "Euclidean Distance Score (mpnet)",  # with mpnet sentence embedding model
    "len_score": "Character length delta Score",
    "rougeL_precision": "RougeL Precision Score",
    "rougeL_recall": "RougeL Recall Score",
    "rougeL_f1": "RougeL F1 Score",
}
LLM_BASED_EVALS = {
    "answer_relevancy": "Answer relevancy score against query",
    "answer_similarity_llm": "Similarity score generated by LLM",
}
SCORE_DESCRIPTION = {**LLM_BASED_EVALS, **NON_LLM_EVALS}

EVAL_MODES = {
    "vanilla",  # Vanilla model (with default parameters, no prompt/rag)
    "ols_param",  # Model with OLS parameters (no prompt/rag)
    "ols_prompt",  # Model with OLS prompt (default parameters, no rag)
    "ols_rag",  # Model with RAG (default parameters & simple prompt/format)
    "ols",  # With OLS API
}

DEFAULT_QNA_FILE = "question_answer_pair.json"
PARQUET_QNA_FILE = "ocp_doc_qna-edited.parquet"
DEFAULT_CONFIG_FILE = "olsconfig.yaml"

DEFAULT_INPUT_DIR = "eval_data"
DEFAULT_RESULT_DIR = "eval_result"

# Retry settings for LLM calls used when model does not respond reliably in 100% cases
MAX_RETRY_ATTEMPTS = 10
REST_API_TIMEOUT = 120
TIME_TO_BREATH = 10

# Cut-off similarity score used for response evaluation.
EVAL_THRESHOLD = 0.3  # low score is better

# Number of related questions to be generated.
N_QUESTIONS = 3
